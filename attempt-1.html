<html>
	<head>
		<style type="text/css">
			body{
				background-color:#FEFEFE;
				font-family:arial;
			}
			#page{
				background-color:#DDDDDD;
				width:800px;
				height:100%;
			}
			.awesome-button-container{
				padding:20px;
				background-color:#FFFFFF;
				display:inline-block;
				margin:50px;
				perspective:500px;
			}
			.awesome-button{
				box-shadow: 0px 0px 7px -4px #000000;
				text-decoration:none;
				background-color:#666666;
				color:#FFFFFF;
				text-shadow: 0px 0px 1px #000000;
				transition: 0.18s;
				-webkit-transition: 0.18s;
				display:inline-block;
				padding:20px;
				font-size:18px;
				cursor:pointer;
				position:relative;
				top:0px;
				bottom:0px;
				left:0px;
				right:0px;
			}
		</style>
		<script language="javascript" src="http://code.jquery.com/jquery-1.4.1.js" type="text/javascript"></script>
		<script language="javascript">
			$(document).ready(function(){
				var awesomeButtonContainerPadding = $("#awesome-button-container").css("padding").replace(/[^-\d\.]/g, '');
				var midpointY = $("#awesome-button-container").innerHeight() / 2;
				var midpointX = $("#awesome-button-container").innerWidth() / 2;
				window.t = 0;
				$("#awesome-button-container").mouseover(function(){
					$("#awesome-button").animate({
						"background-color": "green"
					}, 180);
				});
				$("#awesome-button-container").mousemove(function(e){
					//var parentOffset = $(this).parent().offset();
					var mil = (new Date()).getTime();
					if(window.t + 50 < mil){
						var relativeXPosition = (e.pageX - $(this).offset().left); //offset -> method allows you to retrieve the current position of an element 'relative' to the document
						var relativeYPosition = (e.pageY - $(this).offset().top);
						var percentOffsetY = (relativeYPosition - midpointY) / midpointY;
						var percentOffsetX = (relativeXPosition - midpointX) / midpointX;
						var magneticOffsetY = percentOffsetY * awesomeButtonContainerPadding;
						var magneticOffsetX = percentOffsetX * awesomeButtonContainerPadding;
						//if(magneticOffsetY == 0 || magneticOffsetX == 0){ alert("uh-oh") }
						$("#awesome-button").css("top", magneticOffsetY+"px");
						$("#awesome-button").css("left", magneticOffsetX+"px");
						rotateX = 0 - 30*percentOffsetY;
						rotateY = 30*percentOffsetX;
						$("#awesome-button").css("transform", "rotateX("+rotateX+"deg) rotateY("+rotateY+"deg)");
						window.t = (new Date()).getTime();
					}
					//$("#header2").html("<p><strong>X-Position: </strong>"+relativeXPosition+" | <strong>Y-Position: </strong>"+relativeYPosition+" | <strong>magnetic Y Offset: </strong>"+magneticOffsetY+"</p>")
				}).mouseout(function(){
					$("#awesome-button").css("box-shadow", "0px 3px 10px -3px #000000");
					$("#awesome-button").animate({
						top: "0px",
						left: "0px",
						transform: "rotateX(0deg) rotateY(0deg)",
						backgroundColor: "#666666"
					}, 180, function(){
						$("#awesome-button").css("box-shadow", "box-shadow: 0px 0px 7px -4px #000000");
						$("#awesome-button").css("transform", "rotateX(0deg) rotateY(0deg)");
					});
				});
			});
		</script>
	</head>
	<body>
		<center>
		<div id="page">
			<div class="awesome-button-container" id="awesome-button-container">
				<div class="awesome-button" id="awesome-button" style="background-size:cover;background-image:url('https://c2.staticflickr.com/2/1520/24330829813_944c817720_b.jpg')">
					Awesome
				</div>
			</div>
			<div id="header2">
			</div>
		</div>
		</center>
	</body>
</html>